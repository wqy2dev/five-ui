<script lang="ts">
    import { UserOutline } from "$lib/icons/index.js";
import { Select, Option } from "$lib/index.js";

const sizes = ["sm", "md", "lg"];

let keywords = $state("");

function onsearch(value?:string) {
    keywords = value ?? "";
}

</script>

<svelte:head>
    <title>Select</title>
</svelte:head>

<h2 class="text-lg font-bold leading-10">
    Select
</h2>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Base
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="a" 
        value="apple"
        onchange={v => console.log("select:", v)}
        placeholder="please select"
    >
        {#snippet head()}
            <UserOutline/>
        {/snippet}    
        <Option
            value="polo"
            label={"è è"}
        >
            ğŸè è
        </Option>
        <Option
            value="juezi"
            label={"æ©˜å­A"}
            disabled
        >
            ğŸŠæ©˜å­
        </Option>
        <Option
            value="apple"
            label={"è‹¹æœB"}
        >
            ğŸè‹¹æœ
        </Option>
    </Select>
</div>


<h4 class="my-5 text-base indent-2 bg-slate-100">
    With Search
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        enableSearch
        searchProps={{
            onchange:onsearch,
        }}
    >
        {#each [
            {value:"polo", label:"è è"},
            {value:"juezi", label:"è‹¹æœB"},
            {value:"apple", label:"æ©˜å­"},
            {value:"putao", label:"è‘¡è„"},
            {value:"mg", label:"èŠ’æœ"},
        ].filter(v => v.label.indexOf(keywords) > -1)  as item}
            <Option
                value={item.value}
                label={item.label}
            >
                {item.label}
            </Option>
        {/each}
    </Select>
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Disable
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        enableSearch
        searchProps={{
            onchange:onsearch,
        }}
        disabled
    >
    </Select>
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Empty Data
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        enableSearch
        searchProps={{
            onchange:onsearch,
        }}
    >
    </Select>
</div>