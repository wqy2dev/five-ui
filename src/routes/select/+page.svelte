<script lang="ts">
import { Search, UserOutline } from "$lib/icons/index.js";
import { Select } from "$lib/index.js";

const sizes = ["sm", "md", "lg"];
const radius = ["full", "sm", "md", "lg", "xl", "none"];

let keywords = $state("");

function onsearch(value?:string) {
    keywords = value ?? "";
}

const options = [
            {value:"polo", label:"è è"},
            {value:"apple", label:"è‹¹æœ"},
            {value:"orange", label:"æ©˜å­"},
            {value:"putao", label:"è‘¡è„", disabled:true},
            {value:"banana", label:"é¦™è•‰"},
            {value:"pear", label:"æ¢¨å­"},
            {value:"lz", label:"è”æ"},
            {value:"watermelon", label:"è¥¿ç“œ"},
            {value:"jujube", label:"æ£å­"},
            {value:"persimmon", label:"æŸ¿å­"},
            {value:"cantaloupe", label:"å“ˆå¯†ç“œ"},
            {value:"longan", label:"é¾™çœ¼"},
            {value:"durian", label:"æ¦´è²"},
        ];

</script>

<svelte:head>
    <title>Select</title>
</svelte:head>

<h2 class="text-lg font-bold leading-10">
    Select
</h2>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Base
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="a" 
        value={"mg"}
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        options={options}
    >
        {#snippet head()}
            <UserOutline/>
        {/snippet}    
    </Select>
</div>


<h4 class="my-5 text-base indent-2 bg-slate-100">
    With Search
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        value="bannana"
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        searchable
        onsearch={onsearch}
        options={options.filter(v => v.label.indexOf(keywords) > -1)}
    >
        {#snippet option(opt)}
            ğŸ‰ {opt.label}
        {/snippet}

        {#snippet tail()}
            <Search/>
        {/snippet}
    </Select>
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Disable
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        value="lz"
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        options={options}
        disabled
    >
    </Select>
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    No Data
</h4>

<div class="flex flex-row gap-5">
    <Select
        name="b" 
        onchange={v => console.log("select:", v)}
        placeholder="please select"
        searchable
        onsearch={onsearch}
    >
    </Select>
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Size
</h4>

<div class="flex flex-row gap-5">
    {#each sizes as size}
        <Select
            name="b" 
            value="orange"
            size={size as any}
            onchange={v => console.log("select:", v)}
            placeholder="please select"
            searchable
            onsearch={onsearch}
            options={options.filter(v => v.label.indexOf(keywords) > -1)}
        >
            {#snippet option(opt)}
                ğŸ‰ {opt.label}
            {/snippet}

            {#snippet tail()}
                <Search/>
            {/snippet}
        </Select>
    {/each}
    
</div>

<h4 class="my-5 text-base indent-2 bg-slate-100">
    Radius
</h4>

<div class="flex flex-col gap-5">
    {#each radius as rds}
        <Select
            name="b" 
            value="pear"
            radius={rds as any}
            onchange={v => console.log("select:", v)}
            placeholder="please select"
            searchable
            onsearch={onsearch}
            options={options.filter(v => v.label.indexOf(keywords) > -1)}
        >
            {#snippet option(opt)}
                ğŸ‰ {opt.label}
            {/snippet}

            {#snippet tail()}
                <Search/>
            {/snippet}
        </Select>
    {/each}
</div>